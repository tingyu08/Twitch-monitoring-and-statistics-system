# Story 2.4: è§€çœ¾è¶³è·¡ç¸½è¦½ï¼ˆäº’å‹•å¼æˆå°±å„€è¡¨æ¿ï¼‰

## Status

- ğŸ“‹ Draft
- å»ºç«‹æ—¥æœŸï¼š2025-12-11
- ä¾è³´ï¼šStory 2.1ï¼ˆç™»å…¥ï¼‰ã€Story 2.2ï¼ˆè§€çœ‹æ™‚æ•¸ï¼‰ã€Story 2.3ï¼ˆç•™è¨€çµ±è¨ˆï¼‰

## Related Documents

- `docs/epic-2-viewer-engagement-analytics.md#4-user-stories` â€“ Story 2.4 åŸå§‹éœ€æ±‚èƒŒæ™¯
- `docs/stories/2.1.viewer-login-and-authorization.md` â€“ å‰ç½® Storyï¼ˆOAuthï¼‰
- `docs/stories/2.2.viewer-watch-time-and-interaction-stats.md` â€“ è§€çœ‹æ™‚æ•¸è³‡æ–™ä¾†æº
- `docs/stories/2.3.viewer-chat-and-interaction-stats.md` â€“ ç•™è¨€è³‡æ–™ä¾†æº
- `docs/architecture/fullstack-architecture.md` â€“ æŠ€è¡“æ¶æ§‹åƒè€ƒ

## Story

**As a** é‡åº¦è§€çœ¾ï¼ˆé•·æœŸè¿½è¹¤æŸä½å¯¦æ³ä¸»ï¼‰  
**I want** ä¸€å€‹å¯é«˜åº¦è‡ªè¨‚çš„äº’å‹•å¼æˆå°±å„€è¡¨æ¿ï¼Œå±•ç¤ºæˆ‘åœ¨è©²é »é“çš„æ‰€æœ‰æŠ•å…¥è»Œè·¡  
**so that** æˆ‘èƒ½è‡ªè±ªåœ°å±•ç¤ºè‡ªå·±çš„æ”¯æŒæˆå°±ï¼Œä¸¦ç™¼ç¾æ–°çš„æŠ•å…¥æ¨¡å¼èˆ‡é‡Œç¨‹ç¢‘ã€‚

## Acceptance Criteria

### AC 1: äº’å‹•å¼å„€è¡¨æ¿æ¡†æ¶ï¼ˆå¯æ‹–æ‹½ã€è‡ªè¨‚å¸ƒå±€ï¼‰
- Given è§€çœ¾é€²å…¥ã€Œè¶³è·¡ç¸½è¦½ã€é é¢
- When é é¢åŠ è¼‰å®Œæˆ
- Then ç³»çµ±æ‡‰é¡¯ç¤ºï¼š
  - **å¯æ‹–æ‹½çš„å¡ç‰‡ç¶²æ ¼ä½ˆå±€**ï¼ˆä½¿ç”¨ React Grid Layout æˆ–é¡ä¼¼åº«ï¼‰
  - **8-10 å€‹é è¨­å¡ç‰‡**ï¼ˆåŒ…å«è§€çœ‹æ™‚æ•¸ã€ç•™è¨€æ•¸ã€æˆå°±å¾½ç« ç­‰ï¼‰
  - **ä½ˆå±€è‡ªè¨‚æŒ‰éˆ•**ï¼ˆé€²å…¥ç·¨è¼¯æ¨¡å¼ï¼‰
  - **é‡ç½®ä½ˆå±€æŒ‰éˆ•**ï¼ˆæ¢å¾©é è¨­æ’åˆ—ï¼‰
- And æ¯å€‹å¡ç‰‡æ‡‰é¡¯ç¤ºï¼š
  - æ‹–æ‹½æ‰‹æŸ„ï¼ˆä¸‰æ©«ç·šåœ–ç¤ºï¼‰
  - å¡ç‰‡æ¨™é¡Œèˆ‡ä¸»è¦æŒ‡æ¨™
  - è¿·ä½ åœ–è¡¨æˆ–è¦–è¦ºåŒ–å…ƒç´ 
- And ä½ˆå±€è®Šæ›´æ‡‰å³æ™‚å„²å­˜è‡³å¾Œç«¯ï¼ˆæ¯æ¬¡æ‹–å‹•çµæŸå¾Œè‡ªå‹•ä¿å­˜ï¼‰

### AC 2: å›ºå®šé‡Œç¨‹ç¢‘æˆå°±å¾½ç« ç³»çµ±
- Given è§€çœ¾é”åˆ°ç‰¹å®šæŠ•å…¥é‡Œç¨‹ç¢‘
- When ç³»çµ±è¨ˆç®—çµ±è¨ˆæ•¸æ“š
- Then æ‡‰è§£é–ä¸¦é¡¯ç¤ºç›¸æ‡‰å¾½ç« ï¼š
  
  **è§€çœ‹æ™‚æ•¸å¾½ç« ï¼š**
  - ğŸ¬ æ–°äººè§€çœ¾ï¼ˆ< 10 å°æ™‚ï¼‰
  - â­ å¿ å¯¦è§€çœ¾ï¼ˆ10-50 å°æ™‚ï¼‰
  - ğŸŒŸ è³‡æ·±ç²‰çµ²ï¼ˆ50-100 å°æ™‚ï¼‰
  - ğŸ’ éµç²‰ï¼ˆ100-500 å°æ™‚ï¼‰
  - ğŸ‘‘ å‚³å¥‡æ”¯æŒè€…ï¼ˆ> 500 å°æ™‚ï¼‰
  
  **ç•™è¨€æ´»èºåº¦å¾½ç« ï¼š**
  - ğŸ’¬ åˆæ¬¡ç™¼è¨€ï¼ˆ< 100 å‰‡ï¼‰
  - ğŸ—£ï¸ è©±ç—¨ï¼ˆ100-500 å‰‡ï¼‰
  - ğŸ“¢ æ„è¦‹é ˜è¢–ï¼ˆ500-1000 å‰‡ï¼‰
  - ğŸ¤ è¶…ç´šè©±ç—¨ï¼ˆ> 1000 å‰‡ï¼‰
  
  **å¿ èª åº¦å¾½ç« ï¼š**
  - ğŸ“… æ–°è¿½è¹¤è€…ï¼ˆ< 30 å¤©ï¼‰
  - ğŸ”– é•·æœŸæ”¯æŒè€…ï¼ˆ30-90 å¤©ï¼‰
  - ğŸ… å…ƒè€ç²‰çµ²ï¼ˆ90-365 å¤©ï¼‰
  - ğŸ¦… è€éµï¼ˆ> 365 å¤©ï¼‰
  
  **é€£çºŒç°½åˆ°å¾½ç« ï¼š**
  - ğŸ”¥ é€£çºŒè§€çœ‹ 7 å¤©
  - âš¡ é€£çºŒè§€çœ‹ 30 å¤©
  - ğŸŒˆ é€£çºŒè§€çœ‹ 90 å¤©

- And æ¯å€‹å¾½ç« æ‡‰é¡¯ç¤ºï¼š
  - å¾½ç« åœ–ç¤ºï¼ˆSVG æˆ–åœ–ç‰‡ï¼‰
  - å¾½ç« åç¨±èˆ‡æè¿°
  - ç²å¾—æ—¥æœŸ
  - ä¸‹ä¸€ç­‰ç´šé€²åº¦æ¢ï¼ˆè‹¥æœ‰ï¼‰
- And æœªè§£é–å¾½ç« é¡¯ç¤ºç‚ºåŠé€æ˜ï¼ˆé è¦½æ•ˆæœï¼‰

### AC 3: å¤šç¶­åº¦é›·é”åœ–ï¼ˆç¶œåˆæŠ•å…¥åˆ†æï¼‰
- Given è§€çœ¾å·²æœ‰è¶³å¤ çš„çµ±è¨ˆè³‡æ–™
- When é¡¯ç¤ºç¶œåˆæŠ•å…¥åˆ†æå¡ç‰‡
- Then ç³»çµ±æ‡‰ç¹ªè£½å…­é‚Šå½¢é›·é”åœ–ï¼ˆRecharts RadarChartï¼‰ï¼š
  
  **å…­å€‹ç¶­åº¦ï¼ˆ0-100 åˆ†ï¼‰ï¼š**
  1. **è§€çœ‹æ™‚é•·**ï¼ˆç¸½æ™‚æ•¸ / ç›®æ¨™æ™‚æ•¸ Ã— 100ï¼‰
  2. **äº’å‹•é »ç‡**ï¼ˆç•™è¨€æ•¸ / ç›®æ¨™ç•™è¨€æ•¸ Ã— 100ï¼‰
  3. **å¿ èª åº¦**ï¼ˆè¿½è¹¤å¤©æ•¸ / 365 Ã— 100ï¼‰
  4. **æ´»èºåº¦**ï¼ˆæœ€è¿‘ 30 å¤©è§€çœ‹å¤©æ•¸ / 30 Ã— 100ï¼‰
  5. **è´ŠåŠ©è²¢ç»**ï¼ˆç¸½ Bits / ç›®æ¨™ Bits Ã— 100ï¼‰
  6. **ç¤¾ç¾¤åƒèˆ‡**ï¼ˆè¨‚é–±æœˆæ•¸ / 12 Ã— 100ï¼‰
  
- And é›·é”åœ–æ‡‰æ”¯æ´ï¼š
  - æ»‘é¼ æ‡¸åœé¡¯ç¤ºå„ç¶­åº¦åˆ†æ•¸èˆ‡æ’åï¼ˆç™¾åˆ†ä½ï¼‰
  - ä¸åŒç¶­åº¦ä½¿ç”¨æ¼¸å±¤è‰²ï¼ˆå¦‚è—â†’ç´«â†’ç´…ï¼‰
  - éŸ¿æ‡‰å¼ä½ˆå±€ï¼ˆæ‰‹æ©Ÿä¸Šè‡ªå‹•ç¸®æ”¾ï¼‰

### AC 4: å…¨æ™‚æ®µçµ±è¨ˆèšåˆï¼ˆLifetime Statsï¼‰
- Given è§€çœ¾æœ‰é•·æœŸçš„è§€çœ‹èˆ‡äº’å‹•è¨˜éŒ„
- When ç³»çµ±éœ€è¦é¡¯ç¤ºã€Œè‡ªé–‹å§‹çµ±è¨ˆä»¥ä¾†ã€çš„ç¸½è¦½æ•¸æ“š
- Then å¾Œç«¯æ‡‰æä¾› `ViewerChannelLifetimeStats` è¡¨ï¼š
  ```prisma
  model ViewerChannelLifetimeStats {
    id: String @id @default(cuid())
    viewerId: String
    channelId: String
    
    // è§€çœ‹çµ±è¨ˆ
    totalWatchTimeMinutes: Int
    totalSessions: Int
    avgSessionMinutes: Int
    firstWatchedAt: DateTime
    lastWatchedAt: DateTime
    
    // ç•™è¨€çµ±è¨ˆ
    totalMessages: Int
    totalChatMessages: Int
    totalSubscriptions: Int
    totalCheers: Int
    totalBits: Int
    
    // å¿ èª åº¦
    trackingStartedAt: DateTime
    trackingDays: Int
    longestStreakDays: Int
    currentStreakDays: Int
    
    // æ´»èºåº¦
    activeDaysLast30: Int
    activeDaysLast90: Int
    mostActiveMonth: String  // "2025-11"
    mostActiveMonthCount: Int
    
    // æ’å
    watchTimePercentile: Float?  // åœ¨è©²é »é“æ‰€æœ‰è§€çœ¾ä¸­çš„ç™¾åˆ†ä½
    messagePercentile: Float?
    
    updatedAt: DateTime @updatedAt
    
    @@unique([viewerId, channelId])
    @@index([viewerId])
    @@index([channelId])
  }
  ```
- And æ¯æ—¥ Cron Job æ‡‰æ›´æ–°æ­¤è¡¨ï¼ˆå‡Œæ™¨ 2 é»åŸ·è¡Œï¼‰

### AC 5: å®šæœŸé èšåˆ API ç«¯é»
- Given å‰ç«¯è«‹æ±‚å…¨æ™‚æ®µçµ±è¨ˆ
- When ç™¼é€ `GET /api/viewer/{viewerId}/channels/{channelId}/lifetime-stats`
- Then ç³»çµ±æ‡‰è¿”å›ï¼š
  ```json
  {
    "channelId": "string",
    "channelName": "string",
    "lifetimeStats": {
      "watchTime": {
        "totalMinutes": 15600,
        "totalHours": 260,
        "avgSessionMinutes": 45,
        "firstWatchedAt": "2024-01-15T10:00:00Z",
        "lastWatchedAt": "2025-12-11T20:30:00Z"
      },
      "messages": {
        "totalMessages": 3420,
        "chatMessages": 3100,
        "subscriptions": 12,
        "cheers": 150,
        "totalBits": 15000
      },
      "loyalty": {
        "trackingDays": 331,
        "longestStreakDays": 45,
        "currentStreakDays": 7
      },
      "activity": {
        "activeDaysLast30": 18,
        "activeDaysLast90": 52,
        "mostActiveMonth": "2025-11",
        "mostActiveMonthCount": 22
      },
      "rankings": {
        "watchTimePercentile": 92.5,
        "messagePercentile": 87.3
      }
    },
    "badges": [
      {
        "id": "iron-fan",
        "name": "éµç²‰",
        "category": "watch-time",
        "unlockedAt": "2025-06-01T00:00:00Z",
        "progress": 100
      }
      // ... å…¶ä»–å¾½ç« 
    ],
    "radarScores": {
      "watchTime": 85,
      "interaction": 78,
      "loyalty": 90,
      "activity": 60,
      "contribution": 45,
      "community": 67
    }
  }
  ```

### AC 6: å„€è¡¨æ¿ä½ˆå±€æŒä¹…åŒ–
- Given è§€çœ¾è‡ªè¨‚äº†å¡ç‰‡ä½ˆå±€
- When è§€çœ¾æ‹–å‹•å¡ç‰‡æˆ–èª¿æ•´å¤§å°
- Then ç³»çµ±æ‡‰ï¼š
  - å³æ™‚å„²å­˜ä½ˆå±€é…ç½®è‡³å¾Œç«¯ï¼ˆdebounce 2 ç§’ï¼‰
  - å„²å­˜è‡³ `ViewerDashboardLayout` è¡¨ï¼š
    ```prisma
    model ViewerDashboardLayout {
      id: String @id @default(cuid())
      viewerId: String
      channelId: String
      layout: Json  // React Grid Layout çš„åºåˆ—åŒ–æ ¼å¼
      updatedAt: DateTime @updatedAt
      
      @@unique([viewerId, channelId])
    }
    ```
  - ä¸‹æ¬¡ç™»å…¥æ™‚è‡ªå‹•è¼‰å…¥å„²å­˜çš„ä½ˆå±€
- And æä¾›ã€Œé‡ç½®ç‚ºé è¨­ä½ˆå±€ã€åŠŸèƒ½

### AC 7: éŸ¿æ‡‰å¼èˆ‡æ•ˆèƒ½å„ªåŒ–
- Given å„€è¡¨æ¿åŒ…å«å¤§é‡åœ–è¡¨èˆ‡å‹•ç•«
- When é é¢åœ¨ä¸åŒè£ç½®è¼‰å…¥
- Then ç³»çµ±æ‡‰ï¼š
  - **æ¡Œé¢ç‰ˆ**ï¼šé¡¯ç¤ºå®Œæ•´ 12 åˆ—ç¶²æ ¼ï¼Œæ”¯æ´æ‹–æ‹½
  - **å¹³æ¿ç‰ˆ**ï¼šé¡¯ç¤º 6 åˆ—ç¶²æ ¼ï¼Œéƒ¨åˆ†å¡ç‰‡åˆä½µ
  - **æ‰‹æ©Ÿç‰ˆ**ï¼šé¡¯ç¤ºå–®åˆ—å †ç–Šï¼Œç¦ç”¨æ‹–æ‹½ï¼ˆåƒ…é¡¯ç¤ºï¼‰
  - **é¦–å±è¼‰å…¥ < 2 ç§’**ï¼ˆä½¿ç”¨ Lazy Loading å»¶é²è¼‰å…¥åœ–è¡¨ï¼‰
  - **é›·é”åœ–å‹•ç•«**ï¼šä½¿ç”¨ requestAnimationFrame é¿å…å¡é “

---

## Tasks / Subtasks

### Task 1ï¼ˆAC 4, 5ï¼‰å¾Œç«¯ï¼šLifetime Stats èšåˆç³»çµ±

- [ ] Task 1.1: å»ºç«‹ Prisma Migration
  - [x] æ–°å¢ `ViewerChannelLifetimeStats` è¡¨
  - [x] æ–°å¢ `ViewerDashboardLayout` è¡¨
  - [x] åŸ·è¡Œ `prisma migrate dev --name add_lifetime_stats`

- [ ] Task 1.2: å¯¦ä½œèšåˆè¨ˆç®—é‚è¼¯
  - [x] æ–°å¢ `src/services/lifetime-stats-aggregator.service.ts`
  - [x] å¯¦ä½œæ–¹æ³•ï¼š
    - `calculateLifetimeStats(viewerId, channelId)` â€“ è¨ˆç®—å…¨æ™‚æ®µçµ±è¨ˆ
    - `updatePercentileRankings(channelId)` â€“ è¨ˆç®—è©²é »é“æ‰€æœ‰è§€çœ¾çš„ç™¾åˆ†ä½æ’å
    - `calculateStreaks(viewerId, channelId)` â€“ è¨ˆç®—é€£çºŒè§€çœ‹å¤©æ•¸
  - [x] é‚è¼¯æ‡‰æŸ¥è©¢ï¼š
    - `ViewerChannelDailyAgg`ï¼ˆè§€çœ‹æ™‚æ•¸èšåˆï¼‰
    - `ViewerChannelMessageDailyAgg`ï¼ˆç•™è¨€èšåˆï¼‰
    - è¨ˆç®—ç¸½å’Œã€å¹³å‡ã€æœ€å¤§å€¼ç­‰

- [ ] Task 1.3: å®šæ™‚èšåˆ Cron Job
  - [x] æ–°å¢ `src/jobs/update-lifetime-stats.job.ts`
  - [x] æ¯æ—¥å‡Œæ™¨ 2 é»åŸ·è¡Œ
  - [x] æ‰¹æ¬¡æ›´æ–°æ‰€æœ‰æ´»èºè§€çœ¾çš„ Lifetime Stats
  - [x] è¨˜éŒ„åŸ·è¡Œæ—¥èªŒèˆ‡éŒ¯èª¤

- [ ] Task 1.4: Lifetime Stats API ç«¯é»
  - [x] æ–°å¢ `src/modules/viewer/viewer-lifetime-stats.controller.ts`
  - [x] å¯¦ä½œ `GET /api/viewer/:viewerId/channels/:channelId/lifetime-stats`
  - [x] è¿”å›æ ¼å¼å¦‚ AC 5 æ‰€ç¤º

- [ ] Task 1.5: å¾½ç« è§£é–é‚è¼¯
  - [x] æ–°å¢ `src/services/badge.service.ts`
  - [x] å¯¦ä½œ `checkBadges(lifetimeStats)` â€“ æ ¹æ“šçµ±è¨ˆæ•¸æ“šåˆ¤æ–·è§£é–å¾½ç« 
  - [x] è¿”å›å·²è§£é– + é€²åº¦ä¸­çš„å¾½ç« æ¸…å–®

### Task 2ï¼ˆAC 1, 6ï¼‰å‰ç«¯ï¼šäº’å‹•å¼å„€è¡¨æ¿æ¡†æ¶

- [ ] Task 2.1: å®‰è£ React Grid Layout
  - [x] æ–°å¢ä¾è³´ï¼š`npm install react-grid-layout react-resizable`
  - [x] æ–°å¢ CSSï¼š`import 'react-grid-layout/css/styles.css'`

- [ ] Task 2.2: å»ºç«‹å„€è¡¨æ¿å®¹å™¨å…ƒä»¶
  - [x] æ–°å¢ `src/features/viewer-dashboard/components/FootprintDashboard.tsx`
  - [x] ä½¿ç”¨ `react-grid-layout` çš„ `GridLayout` å…ƒä»¶
  - [x] é…ç½®ï¼š
    - 12 åˆ—ç¶²æ ¼ï¼ˆcols: 12ï¼‰
    - å¯æ‹–æ‹½ï¼ˆisDraggable: trueï¼‰
    - å¯èª¿æ•´å¤§å°ï¼ˆisResizable: trueï¼‰
    - Compact æ¨¡å¼ï¼ˆcompactType: 'vertical'ï¼‰

- [ ] Task 2.3: å»ºç«‹å¯æ‹–æ‹½å¡ç‰‡å…ƒä»¶åº«
  - [x] æ–°å¢ `src/features/viewer-dashboard/components/cards/` ç›®éŒ„
  - [x] å¯¦ä½œä»¥ä¸‹å¡ç‰‡å…ƒä»¶ï¼ˆæ¯å€‹éƒ½æ”¯æ´æ‹–æ‹½ï¼‰ï¼š
    - `TotalWatchTimeCard.tsx` â€“ ç¸½è§€çœ‹æ™‚æ•¸
    - `TotalMessagesCard.tsx` â€“ ç¸½ç•™è¨€æ•¸
    - `TrackingDaysCard.tsx` â€“ è¿½è¹¤å¤©æ•¸
    - `AvgSessionCard.tsx` â€“ å¹³å‡æ¯æ¬¡è§€çœ‹æ™‚é•·
    - `MostActiveMonthCard.tsx` â€“ æœ€æ´»èºæœˆä»½
    - `StreakCard.tsx` â€“ é€£çºŒè§€çœ‹å¤©æ•¸
    - `BadgesCard.tsx` â€“ å¾½ç« å±•ç¤º
    - `RankingCard.tsx` â€“ æ’åç™¾åˆ†ä½
    - `RadarChartCard.tsx` â€“ é›·é”åœ–
    - `MonthlyTrendCard.tsx` â€“ æœˆåº¦è¶¨å‹¢ï¼ˆå¯é¸ï¼‰

- [ ] Task 2.4: å¯¦ä½œä½ˆå±€æŒä¹…åŒ–
  - [x] æ–°å¢ API Clientï¼š`src/lib/api/dashboard-layout.ts`
  - [x] å¯¦ä½œæ–¹æ³•ï¼š
    - `saveLayout(viewerId, channelId, layout)` â€“ ä¿å­˜ä½ˆå±€
    - `loadLayout(viewerId, channelId)` â€“ è¼‰å…¥ä½ˆå±€
  - [x] ä½¿ç”¨ debounceï¼ˆ2 ç§’ï¼‰é¿å…é »ç¹ä¿å­˜

- [ ] Task 2.5: é‡ç½®ä½ˆå±€åŠŸèƒ½
  - [x] æ–°å¢ã€Œé‡ç½®ç‚ºé è¨­ã€æŒ‰éˆ•
  - [x] é»æ“Šæ™‚æ¸…é™¤å¾Œç«¯ä¿å­˜çš„ä½ˆå±€
  - [x] é‡æ–°è¼‰å…¥é è¨­é…ç½®

### Task 3ï¼ˆAC 2ï¼‰å‰ç«¯ï¼šæˆå°±å¾½ç« ç³»çµ±

- [ ] Task 3.1: å»ºç«‹å¾½ç« é…ç½®æª”
  - [x] æ–°å¢ `src/features/viewer-dashboard/config/badges.config.ts`
  - [x] å®šç¾©æ‰€æœ‰å¾½ç« çš„å…ƒæ•¸æ“šï¼š
    ```typescript
    export const BADGE_CONFIG = {
      'newcomer': {
        id: 'newcomer',
        name: 'æ–°äººè§€çœ¾',
        icon: 'ğŸ¬',
        category: 'watch-time',
        threshold: 0,
        maxThreshold: 10 * 60 // åˆ†é˜
      },
      // ... å…¶ä»–å¾½ç« 
    };
    ```

- [ ] Task 3.2: å»ºç«‹å¾½ç« å±•ç¤ºå…ƒä»¶
  - [x] æ–°å¢ `src/features/viewer-dashboard/components/BadgeDisplay.tsx`
  - [x] é¡¯ç¤ºå–®å€‹å¾½ç« ï¼š
    - åœ–ç¤ºï¼ˆå¤§å°ºå¯¸ï¼‰
    - åç¨±èˆ‡æè¿°
    - ç²å¾—æ—¥æœŸ
    - ä¸‹ä¸€ç­‰ç´šé€²åº¦æ¢ï¼ˆè‹¥æœ‰ï¼‰
  - [x] æœªè§£é–å¾½ç« é¡¯ç¤ºç‚ºåŠé€æ˜

- [ ] Task 3.3: å»ºç«‹å¾½ç« ç¶²æ ¼å¡ç‰‡
  - [x] æ–°å¢ `src/features/viewer-dashboard/components/cards/BadgesCard.tsx`
  - [x] é¡¯ç¤º 4-6 å€‹ä¸»è¦å¾½ç« ï¼ˆç¶²æ ¼ä½ˆå±€ï¼‰
  - [x] é»æ“Šã€ŒæŸ¥çœ‹æ‰€æœ‰ã€å±•é–‹å®Œæ•´å¾½ç« é é¢æˆ– Modal

### Task 4ï¼ˆAC 3ï¼‰å‰ç«¯ï¼šå¤šç¶­åº¦é›·é”åœ–

- [ ] Task 4.1: å»ºç«‹é›·é”åœ–å…ƒä»¶
  - [x] æ–°å¢ `src/features/viewer-dashboard/components/cards/RadarChartCard.tsx`
  - [x] ä½¿ç”¨ Recharts RadarChartï¼š
    ```tsx
    <RadarChart data={radarData}>
      <PolarGrid />
      <PolarAngleAxis dataKey="dimension" />
      <PolarRadiusAxis angle={90} domain={[0, 100]} />
      <Radar
        name="æŠ•å…¥åˆ†æ"
        dataKey="score"
        stroke="#8b5cf6"
        fill="#8b5cf6"
        fillOpacity={0.6}
      />
      <Tooltip />
    </RadarChart>
    ```

- [ ] Task 4.2: è¨ˆç®—é›·é”åœ–åˆ†æ•¸
  - [x] æ–°å¢ `src/lib/utils/radar-score-calculator.ts`
  - [x] å¯¦ä½œå‡½æ•¸ï¼š`calculateRadarScores(lifetimeStats)`
  - [x] æ ¹æ“šçµ±è¨ˆæ•¸æ“šè¨ˆç®— 6 å€‹ç¶­åº¦åˆ†æ•¸ï¼ˆ0-100ï¼‰

- [ ] Task 4.3: è‡ªè¨‚ Tooltip
  - [x] é¡¯ç¤ºç¶­åº¦åç¨±ã€åˆ†æ•¸ã€æ’åç™¾åˆ†ä½
  - [x] æ ¼å¼åŒ–ç‚ºå‹å–„æ–‡å­—ï¼ˆå¦‚ã€Œä½ çš„è§€çœ‹æ™‚é•·è¶…è¶Š 92% çš„è§€çœ¾ã€ï¼‰

### Task 5ï¼ˆAC 6ï¼‰å¾Œç«¯ï¼šä½ˆå±€æŒä¹…åŒ– API

- [ ] Task 5.1: å»ºç«‹ä½ˆå±€å„²å­˜ç«¯é»
  - [x] æ–°å¢ `POST /api/viewer/:viewerId/dashboard-layout`
  - [x] Request Body: `{ channelId, layout: { ... } }`
  - [x] ä½¿ç”¨ Upsert é¿å…é‡è¤‡è¨˜éŒ„

- [ ] Task 5.2: å»ºç«‹ä½ˆå±€è¼‰å…¥ç«¯é»
  - [x] æ–°å¢ `GET /api/viewer/:viewerId/dashboard-layout/:channelId`
  - [x] è‹¥ç„¡è‡ªè¨‚ä½ˆå±€ï¼Œè¿”å›é è¨­ä½ˆå±€é…ç½®

- [ ] Task 5.3: å»ºç«‹ä½ˆå±€é‡ç½®ç«¯é»
  - [x] æ–°å¢ `DELETE /api/viewer/:viewerId/dashboard-layout/:channelId`
  - [x] åˆªé™¤å¾Œè¿”å›é è¨­ä½ˆå±€

### Task 6ï¼ˆAC 7ï¼‰æ•ˆèƒ½å„ªåŒ–èˆ‡éŸ¿æ‡‰å¼è¨­è¨ˆ

- [ ] Task 6.1: å¯¦ä½œ Lazy Loading
  - [x] ä½¿ç”¨ React.lazy() å»¶é²è¼‰å…¥åœ–è¡¨å…ƒä»¶
  - [x] é¦–å±åªè¼‰å…¥å‰ 4 å€‹å¡ç‰‡
  - [x] å…¶é¤˜å¡ç‰‡ä½¿ç”¨ IntersectionObserver æ‡¶è¼‰å…¥

- [ ] Task 6.2: éŸ¿æ‡‰å¼ä½ˆå±€é…ç½®
  - [x] æ¡Œé¢ï¼ˆ> 1024pxï¼‰ï¼š12 åˆ—ç¶²æ ¼
  - [x] å¹³æ¿ï¼ˆ768-1024pxï¼‰ï¼š6 åˆ—ç¶²æ ¼
  - [x] æ‰‹æ©Ÿï¼ˆ< 768pxï¼‰ï¼š1 åˆ—å †ç–Šï¼Œç¦ç”¨æ‹–æ‹½

- [ ] Task 6.3: å‹•ç•«æ•ˆèƒ½å„ªåŒ–
  - [x] é›·é”åœ–ä½¿ç”¨ CSS transformï¼ˆç¡¬é«”åŠ é€Ÿï¼‰
  - [x] å¡ç‰‡æ‹–å‹•ä½¿ç”¨ will-change å±¬æ€§
  - [x] é¿å…å¤§é‡ re-renderï¼ˆä½¿ç”¨ React.memoï¼‰

### Task 7: æ•´åˆèˆ‡æ¸¬è©¦

- [ ] Task 7.1: å–®å…ƒæ¸¬è©¦
  - [x] æ¸¬è©¦ lifetime-stats-aggregator é‚è¼¯
  - [x] æ¸¬è©¦ badge è§£é–é‚è¼¯
  - [x] æ¸¬è©¦ radar-score-calculator

- [ ] Task 7.2: æ•´åˆæ¸¬è©¦
  - [x] æ¸¬è©¦ lifetime-stats API
  - [x] æ¸¬è©¦ä½ˆå±€æŒä¹…åŒ– API

- [ ] Task 7.3: E2E æ¸¬è©¦
  - [x] æ¸¬è©¦å®Œæ•´å„€è¡¨æ¿è¼‰å…¥æµç¨‹
  - [x] æ¸¬è©¦æ‹–æ‹½èˆ‡ä½ˆå±€ä¿å­˜
  - [x] æ¸¬è©¦å¾½ç« å±•ç¤º
  - [x] æ¸¬è©¦é›·é”åœ–äº’å‹•

- [ ] Task 7.4: æ•ˆèƒ½æ¸¬è©¦
  - [x] é©—è­‰é¦–å±è¼‰å…¥ < 2 ç§’
  - [x] é©—è­‰å¤§é‡å¡ç‰‡ï¼ˆ10+ï¼‰æ‹–å‹•æµæš¢åº¦

### Task 8: æ–‡ä»¶èˆ‡äº¤ä»˜

- [ ] Task 8.1: æ›´æ–° API æ–‡ä»¶
  - [x] æ–°å¢ lifetime-stats API çš„ OpenAPI è¦ç¯„
  - [x] æ–°å¢ dashboard-layout API çš„è¦ç¯„

- [ ] Task 8.2: å¾½ç« ç³»çµ±æ–‡ä»¶
  - [x] è¨˜éŒ„æ‰€æœ‰å¾½ç« çš„è§£é–æ¢ä»¶
  - [x] æä¾›å¾½ç« é…ç½®ä¿®æ”¹æŒ‡å—

---

## Dev Notes

### æŠ€è¡“æ±ºç­–è¨˜éŒ„

**æ±ºç­– 1ï¼šé é¢æ¶æ§‹**
- âœ… é¸æ“‡ï¼š**äº’å‹•å¼å„€è¡¨æ¿ï¼ˆæ–¹æ¡ˆ Cï¼‰**
- ç†ç”±ï¼šæä¾›æœ€é«˜è‡ªç”±åº¦ï¼Œè®“è§€çœ¾è‡ªè¨‚å–œå¥½çš„è³‡è¨Šä½ˆå±€
- å¯¦ä½œï¼šReact Grid Layout åº«ï¼ˆæˆç†Ÿã€ç©©å®šã€æ•ˆèƒ½ä½³ï¼‰
- è¤‡é›œåº¦ï¼šé«˜ï¼ˆéœ€å¯¦ä½œæ‹–æ‹½ã€ä½ˆå±€æŒä¹…åŒ–ã€éŸ¿æ‡‰å¼é©é…ï¼‰

**æ±ºç­– 2ï¼šæˆå°±å¾½ç« **
- âœ… é¸æ“‡ï¼š**å›ºå®šé‡Œç¨‹ç¢‘ï¼ˆæ–¹æ¡ˆ Aï¼‰**
- ç†ç”±ï¼šç°¡å–®æ¸…æ™°ï¼Œæ˜“æ–¼ç†è§£å’Œå¯¦ç¾
- å¯¦ä½œï¼šå‰ç«¯é…ç½®æª” + å¾Œç«¯è§£é–é‚è¼¯
- æœªä¾†å‡ç´šï¼šå¯æ“´å±•ç‚ºå‹•æ…‹åˆ†ç´šç³»çµ±

**æ±ºç­– 3ï¼šæ™‚é–“åœ–è¡¨**
- âœ… é¸æ“‡ï¼š**å¤šç¶­åº¦é›·é”åœ–ï¼ˆæ–¹æ¡ˆ Cï¼‰**
- ç†ç”±ï¼šç¶œåˆå±•ç¤ºè§€çœ¾çš„å…¨æ–¹ä½æŠ•å…¥ï¼Œè¦–è¦ºè¡æ“ŠåŠ›å¼·
- å¯¦ä½œï¼šRecharts RadarChart
- æŒ‘æˆ°ï¼šéœ€å®šç¾©åˆç†çš„ 6 å€‹ç¶­åº¦èˆ‡è©•åˆ†æ¨™æº–

**æ±ºç­– 4ï¼šè³‡æ–™èšåˆ**
- âœ… é¸æ“‡ï¼š**å®šæœŸé èšåˆï¼ˆæ–¹æ¡ˆ Bï¼‰**
- ç†ç”±ï¼šæŸ¥è©¢æ•ˆèƒ½æœ€ä½³ï¼Œæ”¯æ´å³æ™‚è¼‰å…¥
- å¯¦ä½œï¼šæ¯æ—¥å‡Œæ™¨ 2 é» Cron Job æ›´æ–° Lifetime Stats è¡¨
- æ¬Šè¡¡ï¼šçµ±è¨ˆè³‡æ–™æœ€å¤šå»¶é² 24 å°æ™‚ï¼ˆå¯æ¥å—ï¼‰

### React Grid Layout é…ç½®

**é è¨­ä½ˆå±€é…ç½®ï¼š**
```typescript
const DEFAULT_LAYOUT = [
  { i: 'total-watch-time', x: 0, y: 0, w: 3, h: 2 },
  { i: 'total-messages', x: 3, y: 0, w: 3, h: 2 },
  { i: 'tracking-days', x: 6, y: 0, w: 3, h: 2 },
  { i: 'streak', x: 9, y: 0, w: 3, h: 2 },
  { i: 'radar-chart', x: 0, y: 2, w: 6, h: 4 },
  { i: 'badges', x: 6, y: 2, w: 6, h: 4 },
  { i: 'most-active-month', x: 0, y: 6, w: 4, h: 2 },
  { i: 'ranking', x: 4, y: 6, w: 4, h: 2 },
  { i: 'avg-session', x: 8, y: 6, w: 4, h: 2 },
];
```

### å¾½ç« è©•åˆ†æ¨™æº–

| é¡åˆ¥ | å¾½ç« åç¨± | æ¢ä»¶ |
|------|---------|------|
| è§€çœ‹æ™‚æ•¸ | æ–°äººè§€çœ¾ | < 10 å°æ™‚ |
| | å¿ å¯¦è§€çœ¾ | 10-50 å°æ™‚ |
| | è³‡æ·±ç²‰çµ² | 50-100 å°æ™‚ |
| | éµç²‰ | 100-500 å°æ™‚ |
| | å‚³å¥‡æ”¯æŒè€… | > 500 å°æ™‚ |
| ç•™è¨€æ´»èº | åˆæ¬¡ç™¼è¨€ | < 100 å‰‡ |
| | è©±ç—¨ | 100-500 å‰‡ |
| | æ„è¦‹é ˜è¢– | 500-1000 å‰‡ |
| | è¶…ç´šè©±ç—¨ | > 1000 å‰‡ |
| å¿ èª åº¦ | æ–°è¿½è¹¤è€… | < 30 å¤© |
| | é•·æœŸæ”¯æŒè€… | 30-90 å¤© |
| | å…ƒè€ç²‰çµ² | 90-365 å¤© |
| | è€éµ | > 365 å¤© |
| é€£çºŒç°½åˆ° | é€£çºŒ 7 å¤© | é€£çºŒè§€çœ‹ 7 å¤© |
| | é€£çºŒ 30 å¤© | é€£çºŒè§€çœ‹ 30 å¤© |
| | é€£çºŒ 90 å¤© | é€£çºŒè§€çœ‹ 90 å¤© |

### é›·é”åœ–è©•åˆ†å…¬å¼

```typescript
// 1. è§€çœ‹æ™‚é•·ï¼ˆæ»¿åˆ† 500 å°æ™‚ï¼‰
watchTimeScore = Math.min(100, (totalHours / 500) * 100);

// 2. äº’å‹•é »ç‡ï¼ˆæ»¿åˆ† 2000 å‰‡ç•™è¨€ï¼‰
interactionScore = Math.min(100, (totalMessages / 2000) * 100);

// 3. å¿ èª åº¦ï¼ˆæ»¿åˆ† 365 å¤©ï¼‰
loyaltyScore = Math.min(100, (trackingDays / 365) * 100);

// 4. æ´»èºåº¦ï¼ˆæœ€è¿‘ 30 å¤©æ´»èºå¤©æ•¸ï¼‰
activityScore = (activeDaysLast30 / 30) * 100;

// 5. è´ŠåŠ©è²¢ç»ï¼ˆæ»¿åˆ† 10000 Bitsï¼‰
contributionScore = Math.min(100, (totalBits / 10000) * 100);

// 6. ç¤¾ç¾¤åƒèˆ‡ï¼ˆè¨‚é–±æœˆæ•¸ï¼Œæ»¿åˆ† 12 å€‹æœˆï¼‰
communityScore = Math.min(100, (subscriptionMonths / 12) * 100);
```

### èˆ‡ Story 2.2ã€2.3 çš„æ•´åˆé»

1. **è³‡æ–™ä¾†æº**
   - è§€çœ‹æ™‚æ•¸ï¼šä¾†è‡ª Story 2.2 çš„ `ViewerChannelDailyAgg`
   - ç•™è¨€çµ±è¨ˆï¼šä¾†è‡ª Story 2.3 çš„ `ViewerChannelMessageDailyAgg`
   - Lifetime Stats è¡¨èšåˆä»¥ä¸Šå…©è€…çš„å…¨æ™‚æ®µè³‡æ–™

2. **API è¤‡ç”¨**
   - è¤‡ç”¨ JWT èªè­‰ä¸­ä»‹è»Ÿé«”
   - è¤‡ç”¨éŒ¯èª¤è™•ç†é‚è¼¯
   - è¤‡ç”¨æ™‚é–“ç¯„åœæ ¼å¼åŒ–å·¥å…·

3. **å‰ç«¯è¤‡ç”¨**
   - è¤‡ç”¨ Recharts åœ–è¡¨åº«
   - è¤‡ç”¨ Tailwind CSS è¨­è¨ˆç³»çµ±
   - è¤‡ç”¨ API client èˆ‡ Hooks

### æ–°å¼•å…¥çš„æŠ€è¡“/åº«

| åº« | ç”¨é€” | ç‰ˆæœ¬ | å‚™è¨» |
|----|------|------|------|
| `react-grid-layout` | æ‹–æ‹½ç¶²æ ¼ä½ˆå±€ | ^1.4 | äº’å‹•å¼å„€è¡¨æ¿æ ¸å¿ƒ |
| `react-resizable` | å¡ç‰‡å¤§å°èª¿æ•´ | ^3.0 | react-grid-layout ä¾è³´ |
| `lodash.debounce` | é˜²æŠ–å‹•ï¼ˆä½ˆå±€ä¿å­˜ï¼‰ | ^4.0 | é¿å…é »ç¹ API å‘¼å« |

### è³‡æ–™æµåœ–

```
Story 2.2 DailyAggï¼ˆè§€çœ‹æ™‚æ•¸ï¼‰
    â†“
Story 2.3 MessageDailyAggï¼ˆç•™è¨€ï¼‰
    â†“
Cron Jobï¼ˆæ¯æ—¥å‡Œæ™¨ 2 é»ï¼‰
    â†“
Lifetime Stats Aggregatorï¼ˆè¨ˆç®—å…¨æ™‚æ®µçµ±è¨ˆï¼‰
    â†“
ViewerChannelLifetimeStatsï¼ˆå…¨æ™‚æ®µèšåˆè¡¨ï¼‰
    â†“
Badge Serviceï¼ˆè§£é–å¾½ç« ï¼‰+ Radar Score Calculatorï¼ˆé›·é”åœ–åˆ†æ•¸ï¼‰
    â†“
API: GET /api/viewer/:viewerId/channels/:channelId/lifetime-stats
    â†“
Frontend: FootprintDashboardï¼ˆæ‹–æ‹½ç¶²æ ¼ï¼‰
    â†“
10 å€‹å¡ç‰‡å…ƒä»¶ï¼ˆTotalWatchTime, Badges, RadarChart, etc.ï¼‰
    â†“
ä½ˆå±€è®Šæ›´ â†’ POST /api/viewer/:viewerId/dashboard-layoutï¼ˆè‡ªå‹•ä¿å­˜ï¼‰
```

### å¾Œç«¯æª”æ¡ˆæ¸…å–®ï¼ˆé è¨ˆä¿®æ”¹/æ–°å¢ï¼‰

#### æ–°å¢ï¼š
- `src/services/lifetime-stats-aggregator.service.ts` â€“ å…¨æ™‚æ®µçµ±è¨ˆèšåˆé‚è¼¯
- `src/services/badge.service.ts` â€“ å¾½ç« è§£é–é‚è¼¯
- `src/modules/viewer/viewer-lifetime-stats.controller.ts` â€“ Lifetime Stats API
- `src/modules/viewer/viewer-lifetime-stats.service.ts` â€“ æ¥­å‹™é‚è¼¯
- `src/modules/viewer/dashboard-layout.controller.ts` â€“ ä½ˆå±€ API
- `src/modules/viewer/dashboard-layout.service.ts` â€“ ä½ˆå±€æŒä¹…åŒ–é‚è¼¯
- `src/jobs/update-lifetime-stats.job.ts` â€“ å®šæ™‚èšåˆ Cron
- `prisma/migrations/{timestamp}_add_lifetime_stats.sql` â€“ è³‡æ–™è¡¨é·ç§»

#### ä¿®æ”¹ï¼š
- `prisma/schema.prisma` â€“ æ–°å¢ 2 å€‹è³‡æ–™æ¨¡å‹
- `src/app.ts` æˆ– `main.ts` â€“ è¨»å†Š Cron Job

### å‰ç«¯æª”æ¡ˆæ¸…å–®ï¼ˆé è¨ˆä¿®æ”¹/æ–°å¢ï¼‰

#### æ–°å¢ï¼š
- `src/features/viewer-dashboard/components/FootprintDashboard.tsx` â€“ ä¸»å„€è¡¨æ¿å®¹å™¨
- `src/features/viewer-dashboard/components/cards/` â€“ 10 å€‹å¡ç‰‡å…ƒä»¶ç›®éŒ„
  - `TotalWatchTimeCard.tsx`
  - `TotalMessagesCard.tsx`
  - `TrackingDaysCard.tsx`
  - `AvgSessionCard.tsx`
  - `MostActiveMonthCard.tsx`
  - `StreakCard.tsx`
  - `BadgesCard.tsx`
  - `RankingCard.tsx`
  - `RadarChartCard.tsx`
  - `MonthlyTrendCard.tsx`ï¼ˆå¯é¸ï¼‰
- `src/features/viewer-dashboard/components/BadgeDisplay.tsx` â€“ å¾½ç« å±•ç¤ºå…ƒä»¶
- `src/features/viewer-dashboard/config/badges.config.ts` â€“ å¾½ç« é…ç½®æª”
- `src/lib/utils/radar-score-calculator.ts` â€“ é›·é”åœ–åˆ†æ•¸è¨ˆç®—
- `src/lib/api/lifetime-stats.ts` â€“ Lifetime Stats API client
- `src/lib/api/dashboard-layout.ts` â€“ ä½ˆå±€ API client

#### ä¿®æ”¹ï¼š
- `src/app/dashboard/viewer/[channelId]/page.tsx` â€“ æ•´åˆ FootprintDashboard
- `frontend/package.json` â€“ æ–°å¢ä¾è³´

### ç’°å¢ƒè®Šæ•¸éœ€æ±‚

#### å¾Œç«¯æ–°å¢ï¼š
```bash
# Lifetime Stats Cron
LIFETIME_STATS_CRON_EXPRESSION=0 2 * * *  # æ¯æ—¥å‡Œæ™¨ 2 é»
LIFETIME_STATS_BATCH_SIZE=500              # æ¯æ¬¡æ›´æ–°æœ€å¤§è§€çœ¾æ•¸
```

### ç›¸ä¾æ€§èˆ‡å…ˆæ±ºæ¢ä»¶

- âœ… Story 2.1 å®Œæˆï¼ˆè§€çœ¾ç™»å…¥ï¼‰
- âœ… Story 2.2 å®Œæˆï¼ˆè§€çœ‹æ™‚æ•¸èšåˆè¡¨ï¼‰
- âœ… Story 2.3 å®Œæˆï¼ˆç•™è¨€èšåˆè¡¨ï¼‰
- â³ è³‡æ–™åº«æ”¯æ´ JSON æ¬„ä½ï¼ˆä½ˆå±€é…ç½®ï¼‰

---

## Project Structure Notes

```
backend/
  src/
    services/
      lifetime-stats-aggregator.service.ts  â† æ–°å¢
      badge.service.ts                      â† æ–°å¢
    
    modules/
      viewer/
        viewer-lifetime-stats.controller.ts â† æ–°å¢
        viewer-lifetime-stats.service.ts    â† æ–°å¢
        dashboard-layout.controller.ts      â† æ–°å¢
        dashboard-layout.service.ts         â† æ–°å¢
    
    jobs/
      update-lifetime-stats.job.ts          â† æ–°å¢

  prisma/
    schema.prisma                           â† ä¿®æ”¹ï¼šæ–°å¢ 2 å€‹è³‡æ–™æ¨¡å‹
    migrations/
      {timestamp}_add_lifetime_stats        â† æ–°å¢

frontend/
  src/
    features/
      viewer-dashboard/
        components/
          FootprintDashboard.tsx            â† æ–°å¢ï¼šä¸»å®¹å™¨
          BadgeDisplay.tsx                  â† æ–°å¢
          cards/                            â† æ–°å¢ç›®éŒ„
            TotalWatchTimeCard.tsx
            TotalMessagesCard.tsx
            TrackingDaysCard.tsx
            AvgSessionCard.tsx
            MostActiveMonthCard.tsx
            StreakCard.tsx
            BadgesCard.tsx
            RankingCard.tsx
            RadarChartCard.tsx
            MonthlyTrendCard.tsx
        
        config/
          badges.config.ts                  â† æ–°å¢
    
    lib/
      utils/
        radar-score-calculator.ts           â† æ–°å¢
      api/
        lifetime-stats.ts                   â† æ–°å¢
        dashboard-layout.ts                 â† æ–°å¢
    
    app/
      dashboard/
        viewer/
          [channelId]/
            page.tsx                        â† ä¿®æ”¹ï¼šæ•´åˆå„€è¡¨æ¿
```

---

## Definition of Done

- [ ] æ‰€æœ‰ AC éƒ½å·²å¯¦ä½œ
- [ ] æ‰€æœ‰ Tasks éƒ½å·²å®Œæˆï¼ˆcheckbox æ¨™è¨˜ [x]ï¼‰
- [ ] å„€è¡¨æ¿å¯æ‹–æ‹½ã€ä½ˆå±€å¯ä¿å­˜
- [ ] å¾½ç« ç³»çµ±æ­£ç¢ºè§£é–ä¸¦é¡¯ç¤º
- [ ] é›·é”åœ–æ­£ç¢ºè¨ˆç®—ä¸¦æ¸²æŸ“
- [ ] Lifetime Stats æ¯æ—¥æ­£ç¢ºèšåˆ
- [ ] API æŸ¥è©¢æ€§èƒ½ < 200msï¼ˆp95ï¼‰
- [ ] é¦–å±è¼‰å…¥ < 2 ç§’
- [ ] éŸ¿æ‡‰å¼è¨­è¨ˆåœ¨æ‰‹æ©Ÿ/å¹³æ¿/æ¡Œé¢æ­£å¸¸
- [ ] å¾Œç«¯å–®å…ƒæ¸¬è©¦é€šéç‡ 100%
- [ ] å‰ç«¯çµ„ä»¶æ¸¬è©¦é€šéç‡ 100%
- [ ] E2E æ¸¬è©¦æ¶µè“‹å®Œæ•´å„€è¡¨æ¿æµç¨‹
- [ ] ç„¡ ESLint éŒ¯èª¤
- [ ] ç„¡ TypeScript é¡å‹éŒ¯èª¤
- [ ] API æ–‡ä»¶å·²æ›´æ–°ï¼ˆOpenAPI/Swaggerï¼‰
- [ ] ç¨‹å¼ç¢¼å·²æäº¤è‡³ gitï¼ŒPR å·²é€šéå¯©æŸ¥
- [ ] æ•ˆèƒ½æ¸¬è©¦é€šéï¼ˆæ‹–æ‹½ 10+ å¡ç‰‡æµæš¢ï¼‰

